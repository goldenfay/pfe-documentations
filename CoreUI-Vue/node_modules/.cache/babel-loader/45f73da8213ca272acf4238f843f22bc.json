{"remainingRequest":"/home/hads/Documents/CoreUI-Vue/node_modules/babel-loader/lib/index.js!/home/hads/Downloads/pycharm-community-2020.1/plugins/python-ce/helpers/MathJax/extensions/MathEvents.js","dependencies":[{"path":"/home/hads/Downloads/pycharm-community-2020.1/plugins/python-ce/helpers/MathJax/extensions/MathEvents.js","mtime":1586259854000},{"path":"/home/hads/Documents/CoreUI-Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hads/Documents/CoreUI-Vue/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogLSotIE1vZGU6IEphdmFzY3JpcHQ7IGluZGVudC10YWJzLW1vZGU6bmlsOyBqcy1pbmRlbnQtbGV2ZWw6IDIgLSotICovCgovKiB2aW06IHNldCB0cz0yIGV0IHN3PTIgdHc9ODA6ICovCgovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKgogKiAgTWF0aEpheC9leHRlbnNpb25zL01hdGhFdmVudHMuanMKICoKICogIEltcGxlbWVudHMgdGhlIGV2ZW50IGhhbmRsZXJzIG5lZWRlZCBieSB0aGUgb3V0cHV0IGpheCB0byBwZXJmb3JtCiAqICBtZW51LCBob3ZlciwgYW5kIG90aGVyIGV2ZW50cy4KICoKICogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKgogKiAgQ29weXJpZ2h0IChjKSAyMDExLTIwMTUgVGhlIE1hdGhKYXggQ29uc29ydGl1bQogKgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KKGZ1bmN0aW9uIChIVUIsIEhUTUwsIEFKQVgsIENBTExCQUNLLCBMT0NBTEUsIE9VVFBVVCwgSU5QVVQpIHsKICB2YXIgVkVSU0lPTiA9ICIyLjYuMCI7CiAgdmFyIEVYVEVOU0lPTiA9IE1hdGhKYXguRXh0ZW5zaW9uOwogIHZhciBNRSA9IEVYVEVOU0lPTi5NYXRoRXZlbnRzID0gewogICAgdmVyc2lvbjogVkVSU0lPTgogIH07CiAgdmFyIFNFVFRJTkdTID0gSFVCLmNvbmZpZy5tZW51U2V0dGluZ3M7CiAgdmFyIENPTkZJRyA9IHsKICAgIGhvdmVyOiA1MDAsCiAgICAvLyB0aW1lIHJlcXVpcmVkIHRvIGJlIGNvbnNpZGVyZWQgYSBob3ZlcgogICAgZnJhbWU6IHsKICAgICAgeDogMy41LAogICAgICB5OiA1LAogICAgICAvLyBmcmFtZSBwYWRkaW5nIGFuZAogICAgICBid2lkdGg6IDEsCiAgICAgIC8vIGZyYW1lIGJvcmRlciB3aWR0aCAoaW4gcGl4ZWxzKQogICAgICBiY29sb3I6ICIjQTZEIiwKICAgICAgLy8gZnJhbWUgYm9yZGVyIGNvbG9yCiAgICAgIGh3aWR0aDogIjE1cHgiLAogICAgICAvLyBoYXplIHdpZHRoCiAgICAgIGhjb2xvcjogIiM4M0EiIC8vIGhhemUgY29sb3IKCiAgICB9LAogICAgYnV0dG9uOiB7CiAgICAgIHg6IC02LAogICAgICB5OiAtMywKICAgICAgLy8gbWVudSBidXR0b24gb2Zmc2V0cwogICAgICB3eDogLTIgLy8gYnV0dG9uIG9mZnNldCBmb3IgZnVsbC13aWR0aCBlcXVhdGlvbnMKCiAgICB9LAogICAgZmFkZWluSW5jOiAuMiwKICAgIC8vIGluY3JlbWVudCBmb3IgZmFkZS1pbgogICAgZmFkZW91dEluYzogLjA1LAogICAgLy8gaW5jcmVtZW50IGZvciBmYWRlLW91dAogICAgZmFkZURlbGF5OiA1MCwKICAgIC8vIGRlbGF5IGJldHdlZW4gZmFkZS1pbiBvciBmYWRlLW91dCBzdGVwcwogICAgZmFkZW91dFN0YXJ0OiA0MDAsCiAgICAvLyBkZWxheSBiZWZvcmUgZmFkZS1vdXQgYWZ0ZXIgbW91c2VvdXQKICAgIGZhZGVvdXREZWxheTogMTUgKiAxMDAwLAogICAgLy8gZGVsYXkgYmVmb3JlIGF1dG9tYXRpYyBmYWRlLW91dAogICAgc3R5bGVzOiB7CiAgICAgICIuTWF0aEpheF9Ib3Zlcl9GcmFtZSI6IHsKICAgICAgICAiYm9yZGVyLXJhZGl1cyI6ICIuMjVlbSIsCiAgICAgICAgLy8gT3BlcmEgMTAuNSBhbmQgSUU5CiAgICAgICAgIi13ZWJraXQtYm9yZGVyLXJhZGl1cyI6ICIuMjVlbSIsCiAgICAgICAgLy8gU2FmYXJpIGFuZCBDaHJvbWUKICAgICAgICAiLW1vei1ib3JkZXItcmFkaXVzIjogIi4yNWVtIiwKICAgICAgICAvLyBGaXJlZm94CiAgICAgICAgIi1raHRtbC1ib3JkZXItcmFkaXVzIjogIi4yNWVtIiwKICAgICAgICAvLyBLb25xdWVyb3IKICAgICAgICAiYm94LXNoYWRvdyI6ICIwcHggMHB4IDE1cHggIzgzQSIsCiAgICAgICAgLy8gT3BlcmEgMTAuNSBhbmQgSUU5CiAgICAgICAgIi13ZWJraXQtYm94LXNoYWRvdyI6ICIwcHggMHB4IDE1cHggIzgzQSIsCiAgICAgICAgLy8gU2FmYXJpIGFuZCBDaHJvbWUKICAgICAgICAiLW1vei1ib3gtc2hhZG93IjogIjBweCAwcHggMTVweCAjODNBIiwKICAgICAgICAvLyBGb3JlZm94CiAgICAgICAgIi1raHRtbC1ib3gtc2hhZG93IjogIjBweCAwcHggMTVweCAjODNBIiwKICAgICAgICAvLyBLb25xdWVyb3IKICAgICAgICBib3JkZXI6ICIxcHggc29saWQgI0E2RCAhIGltcG9ydGFudCIsCiAgICAgICAgZGlzcGxheTogImlubGluZS1ibG9jayIsCiAgICAgICAgcG9zaXRpb246ICJhYnNvbHV0ZSIKICAgICAgfSwKICAgICAgIi5NYXRoSmF4X01lbnVfQnV0dG9uIC5NYXRoSmF4X0hvdmVyX0Fycm93IjogewogICAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICAgIGN1cnNvcjogInBvaW50ZXIiLAogICAgICAgIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAogICAgICAgIGJvcmRlcjogIjJweCBzb2xpZCAjQUFBIiwKICAgICAgICAiYm9yZGVyLXJhZGl1cyI6ICI0cHgiLAogICAgICAgICItd2Via2l0LWJvcmRlci1yYWRpdXMiOiAiNHB4IiwKICAgICAgICAvLyBTYWZhcmkgYW5kIENocm9tZQogICAgICAgICItbW96LWJvcmRlci1yYWRpdXMiOiAiNHB4IiwKICAgICAgICAvLyBGaXJlZm94CiAgICAgICAgIi1raHRtbC1ib3JkZXItcmFkaXVzIjogIjRweCIsCiAgICAgICAgLy8gS29ucXVlcm9yCiAgICAgICAgImZvbnQtZmFtaWx5IjogIidDb3VyaWVyIE5ldycsQ291cmllciIsCiAgICAgICAgImZvbnQtc2l6ZSI6ICI5cHgiLAogICAgICAgIGNvbG9yOiAiI0YwRjBGMCIKICAgICAgfSwKICAgICAgIi5NYXRoSmF4X01lbnVfQnV0dG9uIC5NYXRoSmF4X0hvdmVyX0Fycm93IHNwYW4iOiB7CiAgICAgICAgZGlzcGxheTogImJsb2NrIiwKICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjQUFBIiwKICAgICAgICBib3JkZXI6ICIxcHggc29saWQiLAogICAgICAgICJib3JkZXItcmFkaXVzIjogIjNweCIsCiAgICAgICAgImxpbmUtaGVpZ2h0IjogMCwKICAgICAgICBwYWRkaW5nOiAiNHB4IgogICAgICB9LAogICAgICAiLk1hdGhKYXhfSG92ZXJfQXJyb3c6aG92ZXIiOiB7CiAgICAgICAgY29sb3I6ICJ3aGl0ZSFpbXBvcnRhbnQiLAogICAgICAgIGJvcmRlcjogIjJweCBzb2xpZCAjQ0NDIWltcG9ydGFudCIKICAgICAgfSwKICAgICAgIi5NYXRoSmF4X0hvdmVyX0Fycm93OmhvdmVyIHNwYW4iOiB7CiAgICAgICAgImJhY2tncm91bmQtY29sb3IiOiAiI0NDQyFpbXBvcnRhbnQiCiAgICAgIH0KICAgIH0KICB9OyAvLwogIC8vICBDb21tb24gZXZlbnQtaGFuZGxpbmcgY29kZQogIC8vCgogIHZhciBFVkVOVCA9IE1FLkV2ZW50ID0gewogICAgTEVGVEJVVFRPTjogMCwKICAgIC8vIHRoZSBldmVudC5idXR0b24gdmFsdWUgZm9yIGxlZnQgYnV0dG9uCiAgICBSSUdIVEJVVFRPTjogMiwKICAgIC8vIHRoZSBldmVudC5idXR0b24gdmFsdWUgZm9yIHJpZ2h0IGJ1dHRvbgogICAgTUVOVUtFWTogImFsdEtleSIsCiAgICAvLyB0aGUgZXZlbnQgdmFsdWUgZm9yIGFsdGVybmF0ZSBjb250ZXh0IG1lbnUKCiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCiAgICAvKgogICAgICogIEVudW0gZWxlbWVudCBmb3Iga2V5IGNvZGVzLgogICAgICovCiAgICBLRVk6IHsKICAgICAgUkVUVVJOOiAxMywKICAgICAgRVNDQVBFOiAyNywKICAgICAgU1BBQ0U6IDMyLAogICAgICBMRUZUOiAzNywKICAgICAgVVA6IDM4LAogICAgICBSSUdIVDogMzksCiAgICAgIERPV046IDQwCiAgICB9LAogICAgTW91c2Vkb3duOiBmdW5jdGlvbiBNb3VzZWRvd24oZXZlbnQpIHsKICAgICAgcmV0dXJuIEVWRU5ULkhhbmRsZXIoZXZlbnQsICJNb3VzZWRvd24iLCB0aGlzKTsKICAgIH0sCiAgICBNb3VzZXVwOiBmdW5jdGlvbiBNb3VzZXVwKGV2ZW50KSB7CiAgICAgIHJldHVybiBFVkVOVC5IYW5kbGVyKGV2ZW50LCAiTW91c2V1cCIsIHRoaXMpOwogICAgfSwKICAgIE1vdXNlbW92ZTogZnVuY3Rpb24gTW91c2Vtb3ZlKGV2ZW50KSB7CiAgICAgIHJldHVybiBFVkVOVC5IYW5kbGVyKGV2ZW50LCAiTW91c2Vtb3ZlIiwgdGhpcyk7CiAgICB9LAogICAgTW91c2VvdmVyOiBmdW5jdGlvbiBNb3VzZW92ZXIoZXZlbnQpIHsKICAgICAgcmV0dXJuIEVWRU5ULkhhbmRsZXIoZXZlbnQsICJNb3VzZW92ZXIiLCB0aGlzKTsKICAgIH0sCiAgICBNb3VzZW91dDogZnVuY3Rpb24gTW91c2VvdXQoZXZlbnQpIHsKICAgICAgcmV0dXJuIEVWRU5ULkhhbmRsZXIoZXZlbnQsICJNb3VzZW91dCIsIHRoaXMpOwogICAgfSwKICAgIENsaWNrOiBmdW5jdGlvbiBDbGljayhldmVudCkgewogICAgICByZXR1cm4gRVZFTlQuSGFuZGxlcihldmVudCwgIkNsaWNrIiwgdGhpcyk7CiAgICB9LAogICAgRGJsQ2xpY2s6IGZ1bmN0aW9uIERibENsaWNrKGV2ZW50KSB7CiAgICAgIHJldHVybiBFVkVOVC5IYW5kbGVyKGV2ZW50LCAiRGJsQ2xpY2siLCB0aGlzKTsKICAgIH0sCiAgICBNZW51OiBmdW5jdGlvbiBNZW51KGV2ZW50KSB7CiAgICAgIHJldHVybiBFVkVOVC5IYW5kbGVyKGV2ZW50LCAiQ29udGV4dE1lbnUiLCB0aGlzKTsKICAgIH0sCiAgICAvLwogICAgLy8gIENhbGwgdGhlIG91dHB1dCBqYXgncyBldmVudCBoYW5kbGVyIG9yIHRoZSB6b29tIGhhbmRsZXIKICAgIC8vCiAgICBIYW5kbGVyOiBmdW5jdGlvbiBIYW5kbGVyKGV2ZW50LCB0eXBlLCBtYXRoKSB7CiAgICAgIGlmIChBSkFYLmxvYWRpbmdNYXRoTWVudSkgewogICAgICAgIHJldHVybiBFVkVOVC5GYWxzZShldmVudCk7CiAgICAgIH0KCiAgICAgIHZhciBqYXggPSBPVVRQVVRbbWF0aC5qYXhJRF07CgogICAgICBpZiAoIWV2ZW50KSB7CiAgICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CiAgICAgIH0KCiAgICAgIGV2ZW50LmlzQ29udGV4dE1lbnUgPSB0eXBlID09PSAiQ29udGV4dE1lbnUiOwoKICAgICAgaWYgKGpheFt0eXBlXSkgewogICAgICAgIHJldHVybiBqYXhbdHlwZV0oZXZlbnQsIG1hdGgpOwogICAgICB9CgogICAgICBpZiAoRVhURU5TSU9OLk1hdGhab29tKSB7CiAgICAgICAgcmV0dXJuIEVYVEVOU0lPTi5NYXRoWm9vbS5IYW5kbGVFdmVudChldmVudCwgdHlwZSwgbWF0aCk7CiAgICAgIH0KICAgIH0sCiAgICAvLwogICAgLy8gIFRyeSB0byBjYW5jZWwgdGhlIGV2ZW50IGluIGV2ZXJ5IHdheSB3ZSBjYW4KICAgIC8vCiAgICBGYWxzZTogZnVuY3Rpb24gRmFsc2UoZXZlbnQpIHsKICAgICAgaWYgKCFldmVudCkgewogICAgICAgIGV2ZW50ID0gd2luZG93LmV2ZW50OwogICAgICB9CgogICAgICBpZiAoZXZlbnQpIHsKICAgICAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpIHsKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7CiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICB9CgogICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICAvLwogICAgLy8gS2V5ZG93biBldmVudCBoYW5kbGVyLiBTaG91bGQgb25seSBmaXJlIG9uIFNwYWNlIGtleS4KICAgIC8vCiAgICBLZXlkb3duOiBmdW5jdGlvbiBLZXlkb3duKGV2ZW50LCBtYXRoKSB7CiAgICAgIGlmICghZXZlbnQpIGV2ZW50ID0gd2luZG93LmV2ZW50OwoKICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IEVWRU5ULktFWS5TUEFDRSkgewogICAgICAgIEVWRU5ULkNvbnRleHRNZW51KGV2ZW50LCB0aGlzKTsKICAgICAgfQoKICAgICAgOwogICAgfSwKICAgIC8vCiAgICAvLyAgTG9hZCB0aGUgY29udGV4dHVhbCBtZW51IGNvZGUsIGlmIG5lZWRlZCwgYW5kIHBvc3QgdGhlIG1lbnUKICAgIC8vCiAgICBDb250ZXh0TWVudTogZnVuY3Rpb24gQ29udGV4dE1lbnUoZXZlbnQsIG1hdGgsIGZvcmNlKSB7CiAgICAgIC8vCiAgICAgIC8vICBDaGVjayBpZiB3ZSBhcmUgc2hvd2luZyBtZW51cwogICAgICAvLwogICAgICB2YXIgSkFYID0gT1VUUFVUW21hdGguamF4SURdLAogICAgICAgICAgamF4ID0gSkFYLmdldEpheEZyb21NYXRoKG1hdGgpOwogICAgICB2YXIgc2hvdyA9IChKQVguY29uZmlnLnNob3dNYXRoTWVudSAhPSBudWxsID8gSkFYIDogSFVCKS5jb25maWcuc2hvd01hdGhNZW51OwogICAgICBpZiAoIXNob3cgfHwgU0VUVElOR1MuY29udGV4dCAhPT0gIk1hdGhKYXgiICYmICFmb3JjZSkgcmV0dXJuOyAvLwogICAgICAvLyAgUmVtb3ZlIHNlbGVjdGlvbnMsIHJlbW92ZSBob3ZlciBmYWRlcwogICAgICAvLwoKICAgICAgaWYgKE1FLm1zaWVFdmVudEJ1ZykgewogICAgICAgIGV2ZW50ID0gd2luZG93LmV2ZW50IHx8IGV2ZW50OwogICAgICB9CgogICAgICBFVkVOVC5DbGVhclNlbGVjdGlvbigpOwogICAgICBIT1ZFUi5DbGVhckhvdmVyVGltZXIoKTsKCiAgICAgIGlmIChqYXguaG92ZXIpIHsKICAgICAgICBpZiAoamF4LmhvdmVyLnJlbW92ZSkgewogICAgICAgICAgY2xlYXJUaW1lb3V0KGpheC5ob3Zlci5yZW1vdmUpOwogICAgICAgICAgZGVsZXRlIGpheC5ob3Zlci5yZW1vdmU7CiAgICAgICAgfQoKICAgICAgICBqYXguaG92ZXIubm9mYWRlID0gdHJ1ZTsKICAgICAgfSAvLwogICAgICAvLyAgSWYgdGhlIG1lbnUgY29kZSBpcyBsb2FkZWQsCiAgICAgIC8vICAgIENoZWNrIGlmIGxvY2FsaXphdGlvbiBuZWVkcyBsb2FkaW5nOwogICAgICAvLyAgICBJZiBub3QsIHBvc3QgdGhlIG1lbnUsIGFuZCByZXR1cm4uCiAgICAgIC8vICAgIE90aGVyd2lzZSB3YWl0IGZvciB0aGUgbG9jYWxpemF0aW9uIHRvIGxvYWQKICAgICAgLy8gIE90aGVyd3NlIGxvYWQgdGhlIG1lbnUgY29kZS4KICAgICAgLy8gIFRyeSBhZ2FpbiBhZnRlciB0aGUgZmlsZSBpcyBsb2FkZWQuCiAgICAgIC8vCgoKICAgICAgdmFyIE1FTlUgPSBNYXRoSmF4Lk1lbnU7CiAgICAgIHZhciBsb2FkLCBmbjsKCiAgICAgIGlmIChNRU5VKSB7CiAgICAgICAgaWYgKE1FTlUubG9hZGluZ0RvbWFpbikgewogICAgICAgICAgcmV0dXJuIEVWRU5ULkZhbHNlKGV2ZW50KTsKICAgICAgICB9CgogICAgICAgIGxvYWQgPSBMT0NBTEUubG9hZERvbWFpbigiTWF0aE1lbnUiKTsKCiAgICAgICAgaWYgKCFsb2FkKSB7CiAgICAgICAgICBNRU5VLmpheCA9IGpheDsKICAgICAgICAgIHZhciBzb3VyY2UgPSBNRU5VLm1lbnUuRmluZCgiU2hvdyBNYXRoIEFzIikuc3VibWVudTsKICAgICAgICAgIHNvdXJjZS5pdGVtc1swXS5uYW1lID0gamF4LnNvdXJjZU1lbnVUaXRsZTsKICAgICAgICAgIHNvdXJjZS5pdGVtc1swXS5mb3JtYXQgPSBqYXguc291cmNlTWVudUZvcm1hdCB8fCAiTWF0aE1MIjsKICAgICAgICAgIHNvdXJjZS5pdGVtc1sxXS5uYW1lID0gSU5QVVRbamF4LmlucHV0SmF4XS5zb3VyY2VNZW51VGl0bGU7CiAgICAgICAgICBzb3VyY2UuaXRlbXNbNV0uZGlzYWJsZWQgPSAhSU5QVVRbamF4LmlucHV0SmF4XS5hbm5vdGF0aW9uRW5jb2Rpbmc7IC8vCiAgICAgICAgICAvLyBUcnkgYW5kIGZpbmQgZWFjaCBrbm93biBhbm5vdGF0aW9uIGZvcm1hdCBhbmQgZW5hYmxlIHRoZSBtZW51CiAgICAgICAgICAvLyBpdGVtcyBhY2NvcmRpbmdseS4KICAgICAgICAgIC8vCgogICAgICAgICAgdmFyIGFubm90YXRpb25zID0gc291cmNlLml0ZW1zWzJdOwogICAgICAgICAgYW5ub3RhdGlvbnMuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgdmFyIGFubm90YXRpb25JdGVtcyA9IGFubm90YXRpb25zLnN1Ym1lbnUuaXRlbXM7CiAgICAgICAgICBhbm5vdGF0aW9uTGlzdCA9IE1hdGhKYXguSHViLkNvbmZpZy5zZW1hbnRpY3NBbm5vdGF0aW9uczsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbSA9IGFubm90YXRpb25JdGVtcy5sZW5ndGg7IGkgPCBtOyBpKyspIHsKICAgICAgICAgICAgdmFyIG5hbWUgPSBhbm5vdGF0aW9uSXRlbXNbaV0ubmFtZVsxXTsKCiAgICAgICAgICAgIGlmIChqYXgucm9vdCAmJiBqYXgucm9vdC5nZXRBbm5vdGF0aW9uKG5hbWUpICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgYW5ub3RhdGlvbnMuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICBhbm5vdGF0aW9uSXRlbXNbaV0uaGlkZGVuID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYW5ub3RhdGlvbkl0ZW1zW2ldLmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgTWF0aFBsYXllciA9IE1FTlUubWVudS5GaW5kKCJNYXRoIFNldHRpbmdzIiwgIk1hdGhQbGF5ZXIiKTsKICAgICAgICAgIE1hdGhQbGF5ZXIuaGlkZGVuID0gIShqYXgub3V0cHV0SmF4ID09PSAiTmF0aXZlTU1MIiAmJiBIVUIuQnJvd3Nlci5oYXNNYXRoUGxheWVyKTsKICAgICAgICAgIHJldHVybiBNRU5VLm1lbnUuUG9zdChldmVudCk7CiAgICAgICAgfQoKICAgICAgICBNRU5VLmxvYWRpbmdEb21haW4gPSB0cnVlOwoKICAgICAgICBmbiA9IGZ1bmN0aW9uIGZuKCkgewogICAgICAgICAgZGVsZXRlIE1FTlUubG9hZGluZ0RvbWFpbjsKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChBSkFYLmxvYWRpbmdNYXRoTWVudSkgewogICAgICAgICAgcmV0dXJuIEVWRU5ULkZhbHNlKGV2ZW50KTsKICAgICAgICB9CgogICAgICAgIEFKQVgubG9hZGluZ01hdGhNZW51ID0gdHJ1ZTsKICAgICAgICBsb2FkID0gQUpBWC5SZXF1aXJlKCJbTWF0aEpheF0vZXh0ZW5zaW9ucy9NYXRoTWVudS5qcyIpOwoKICAgICAgICBmbiA9IGZ1bmN0aW9uIGZuKCkgewogICAgICAgICAgZGVsZXRlIEFKQVgubG9hZGluZ01hdGhNZW51OwoKICAgICAgICAgIGlmICghTWF0aEpheC5NZW51KSB7CiAgICAgICAgICAgIE1hdGhKYXguTWVudSA9IHt9OwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBldiA9IHsKICAgICAgICBwYWdlWDogZXZlbnQucGFnZVgsCiAgICAgICAgcGFnZVk6IGV2ZW50LnBhZ2VZLAogICAgICAgIGNsaWVudFg6IGV2ZW50LmNsaWVudFgsCiAgICAgICAgY2xpZW50WTogZXZlbnQuY2xpZW50WQogICAgICB9OwogICAgICBDQUxMQkFDSy5RdWV1ZShsb2FkLCBmbiwgLy8gbG9hZCB0aGUgZmlsZSBhbmQgZGVsZXRlIHRoZSBtYXJrZXIgd2hlbiBkb25lCiAgICAgIFsiQ29udGV4dE1lbnUiLCBFVkVOVCwgZXYsIG1hdGgsIGZvcmNlXSAvLyBjYWxsIHRoaXMgZnVuY3Rpb24gYWdhaW4KICAgICAgKTsKICAgICAgcmV0dXJuIEVWRU5ULkZhbHNlKGV2ZW50KTsKICAgIH0sCiAgICAvLwogICAgLy8gIE1vdXNlZG93biBoYW5kbGVyIGZvciBhbHRlcm5hdGUgbWVhbnMgb2YgYWNjZXNzaW5nIG1lbnUKICAgIC8vCiAgICBBbHRDb250ZXh0TWVudTogZnVuY3Rpb24gQWx0Q29udGV4dE1lbnUoZXZlbnQsIG1hdGgpIHsKICAgICAgdmFyIEpBWCA9IE9VVFBVVFttYXRoLmpheElEXTsKICAgICAgdmFyIHNob3cgPSAoSkFYLmNvbmZpZy5zaG93TWF0aE1lbnUgIT0gbnVsbCA/IEpBWCA6IEhVQikuY29uZmlnLnNob3dNYXRoTWVudTsKCiAgICAgIGlmIChzaG93KSB7CiAgICAgICAgc2hvdyA9IChKQVguY29uZmlnLnNob3dNYXRoTWVudU1TSUUgIT0gbnVsbCA/IEpBWCA6IEhVQikuY29uZmlnLnNob3dNYXRoTWVudU1TSUU7CgogICAgICAgIGlmIChTRVRUSU5HUy5jb250ZXh0ID09PSAiTWF0aEpheCIgJiYgIVNFVFRJTkdTLm1wQ29udGV4dCAmJiBzaG93KSB7CiAgICAgICAgICBpZiAoIU1FLm5vQ29udGV4dE1lbnVCdWcgfHwgZXZlbnQuYnV0dG9uICE9PSBFVkVOVC5SSUdIVEJVVFRPTikgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoIWV2ZW50W0VWRU5ULk1FTlVLRVldIHx8IGV2ZW50LmJ1dHRvbiAhPT0gRVZFTlQuTEVGVEJVVFRPTikgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIEpBWC5Db250ZXh0TWVudShldmVudCwgbWF0aCwgdHJ1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBDbGVhclNlbGVjdGlvbjogZnVuY3Rpb24gQ2xlYXJTZWxlY3Rpb24oKSB7CiAgICAgIGlmIChNRS5zYWZhcmlDb250ZXh0TWVudUJ1ZykgewogICAgICAgIHNldFRpbWVvdXQoIndpbmRvdy5nZXRTZWxlY3Rpb24oKS5lbXB0eSgpIiwgMCk7CiAgICAgIH0KCiAgICAgIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHsKICAgICAgICBzZXRUaW1lb3V0KCJkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKSIsIDApOwogICAgICB9CiAgICB9LAogICAgZ2V0QkJveDogZnVuY3Rpb24gZ2V0QkJveChzcGFuKSB7CiAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoTUUudG9wSW1nKTsKICAgICAgdmFyIGggPSBNRS50b3BJbWcub2Zmc2V0VG9wLAogICAgICAgICAgZCA9IHNwYW4ub2Zmc2V0SGVpZ2h0IC0gaCwKICAgICAgICAgIHcgPSBzcGFuLm9mZnNldFdpZHRoOwogICAgICBzcGFuLnJlbW92ZUNoaWxkKE1FLnRvcEltZyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdzogdywKICAgICAgICBoOiBoLAogICAgICAgIGQ6IGQKICAgICAgfTsKICAgIH0KICB9OyAvLwogIC8vICBIYW5kbGUgaG92ZXIgImRpc2NvdmVyYWJpbGl0eSIKICAvLwoKICB2YXIgSE9WRVIgPSBNRS5Ib3ZlciA9IHsKICAgIC8vCiAgICAvLyAgQ2hlY2sgaWYgd2UgYXJlIG1vdmluZyBmcm9tIGEgbm9uLU1hdGhKYXggZWxlbWVudCB0byBhIE1hdGhKYXggb25lCiAgICAvLyAgYW5kIGVpdGhlciBzdGFydCBmYWRpbmcgaW4gYWdhaW4gKGlmIGl0IGlzIGZhZGluZyBvdXQpIG9yIHN0YXJ0IHRoZQogICAgLy8gIHRpbWVyIGZvciB0aGUgaG92ZXIKICAgIC8vCiAgICBNb3VzZW92ZXI6IGZ1bmN0aW9uIE1vdXNlb3ZlcihldmVudCwgbWF0aCkgewogICAgICBpZiAoU0VUVElOR1MuZGlzY292ZXJhYmxlIHx8IFNFVFRJTkdTLnpvb20gPT09ICJIb3ZlciIpIHsKICAgICAgICB2YXIgZnJvbSA9IGV2ZW50LmZyb21FbGVtZW50IHx8IGV2ZW50LnJlbGF0ZWRUYXJnZXQsCiAgICAgICAgICAgIHRvID0gZXZlbnQudG9FbGVtZW50IHx8IGV2ZW50LnRhcmdldDsKCiAgICAgICAgaWYgKGZyb20gJiYgdG8gJiYgKEhVQi5pc01hdGhKYXhOb2RlKGZyb20pICE9PSBIVUIuaXNNYXRoSmF4Tm9kZSh0bykgfHwgSFVCLmdldEpheEZvcihmcm9tKSAhPT0gSFVCLmdldEpheEZvcih0bykpKSB7CiAgICAgICAgICB2YXIgamF4ID0gdGhpcy5nZXRKYXhGcm9tTWF0aChtYXRoKTsKCiAgICAgICAgICBpZiAoamF4LmhvdmVyKSB7CiAgICAgICAgICAgIEhPVkVSLlJlSG92ZXIoamF4KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEhPVkVSLkhvdmVyVGltZXIoamF4LCBtYXRoKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gRVZFTlQuRmFsc2UoZXZlbnQpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vCiAgICAvLyAgQ2hlY2sgaWYgd2UgYXJlIG1vdmluZyBmcm9tIGEgTWF0aEpheCBlbGVtZW50IHRvIGEgbm9uLU1hdGhKYXggb25lCiAgICAvLyAgYW5kIGVpdGhlciBzdGFydCBmYWRpbmcgb3V0LCBvciBjbGVhciB0aGUgdGltZXIgaWYgd2UgaGF2ZW4ndAogICAgLy8gIGhvdmVyZWQgeWV0CiAgICAvLwogICAgTW91c2VvdXQ6IGZ1bmN0aW9uIE1vdXNlb3V0KGV2ZW50LCBtYXRoKSB7CiAgICAgIGlmIChTRVRUSU5HUy5kaXNjb3ZlcmFibGUgfHwgU0VUVElOR1Muem9vbSA9PT0gIkhvdmVyIikgewogICAgICAgIHZhciBmcm9tID0gZXZlbnQuZnJvbUVsZW1lbnQgfHwgZXZlbnQucmVsYXRlZFRhcmdldCwKICAgICAgICAgICAgdG8gPSBldmVudC50b0VsZW1lbnQgfHwgZXZlbnQudGFyZ2V0OwoKICAgICAgICBpZiAoZnJvbSAmJiB0byAmJiAoSFVCLmlzTWF0aEpheE5vZGUoZnJvbSkgIT09IEhVQi5pc01hdGhKYXhOb2RlKHRvKSB8fCBIVUIuZ2V0SmF4Rm9yKGZyb20pICE9PSBIVUIuZ2V0SmF4Rm9yKHRvKSkpIHsKICAgICAgICAgIHZhciBqYXggPSB0aGlzLmdldEpheEZyb21NYXRoKG1hdGgpOwoKICAgICAgICAgIGlmIChqYXguaG92ZXIpIHsKICAgICAgICAgICAgSE9WRVIuVW5Ib3ZlcihqYXgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgSE9WRVIuQ2xlYXJIb3ZlclRpbWVyKCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIEVWRU5ULkZhbHNlKGV2ZW50KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLwogICAgLy8gIFJlc3RhcnQgaG92ZXIgdGltZXIgaWYgdGhlIG1vdXNlIG1vdmVzCiAgICAvLwogICAgTW91c2Vtb3ZlOiBmdW5jdGlvbiBNb3VzZW1vdmUoZXZlbnQsIG1hdGgpIHsKICAgICAgaWYgKFNFVFRJTkdTLmRpc2NvdmVyYWJsZSB8fCBTRVRUSU5HUy56b29tID09PSAiSG92ZXIiKSB7CiAgICAgICAgdmFyIGpheCA9IHRoaXMuZ2V0SmF4RnJvbU1hdGgobWF0aCk7CiAgICAgICAgaWYgKGpheC5ob3ZlcikgcmV0dXJuOwogICAgICAgIGlmIChIT1ZFUi5sYXN0WCA9PSBldmVudC5jbGllbnRYICYmIEhPVkVSLmxhc3RZID09IGV2ZW50LmNsaWVudFkpIHJldHVybjsKICAgICAgICBIT1ZFUi5sYXN0WCA9IGV2ZW50LmNsaWVudFg7CiAgICAgICAgSE9WRVIubGFzdFkgPSBldmVudC5jbGllbnRZOwogICAgICAgIEhPVkVSLkhvdmVyVGltZXIoamF4LCBtYXRoKTsKICAgICAgICByZXR1cm4gRVZFTlQuRmFsc2UoZXZlbnQpOwogICAgICB9CiAgICB9LAogICAgLy8KICAgIC8vICBDbGVhciB0aGUgb2xkIHRpbWVyIGFuZCBzdGFydCBhIG5ldyBvbmUKICAgIC8vCiAgICBIb3ZlclRpbWVyOiBmdW5jdGlvbiBIb3ZlclRpbWVyKGpheCwgbWF0aCkgewogICAgICB0aGlzLkNsZWFySG92ZXJUaW1lcigpOwogICAgICB0aGlzLmhvdmVyVGltZXIgPSBzZXRUaW1lb3V0KENBTExCQUNLKFsiSG92ZXIiLCB0aGlzLCBqYXgsIG1hdGhdKSwgQ09ORklHLmhvdmVyKTsKICAgIH0sCiAgICBDbGVhckhvdmVyVGltZXI6IGZ1bmN0aW9uIENsZWFySG92ZXJUaW1lcigpIHsKICAgICAgaWYgKHRoaXMuaG92ZXJUaW1lcikgewogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhvdmVyVGltZXIpOwogICAgICAgIGRlbGV0ZSB0aGlzLmhvdmVyVGltZXI7CiAgICAgIH0KICAgIH0sCiAgICAvLwogICAgLy8gIEhhbmRsZSBwdXR0aW5nIHVwIHRoZSBob3ZlciBmcmFtZQogICAgLy8KICAgIEhvdmVyOiBmdW5jdGlvbiBIb3ZlcihqYXgsIG1hdGgpIHsKICAgICAgLy8KICAgICAgLy8gIENoZWNrIGlmIFpvb20gaGFuZGxlcyB0aGUgaG92ZXIgZXZlbnQKICAgICAgLy8KICAgICAgaWYgKEVYVEVOU0lPTi5NYXRoWm9vbSAmJiBFWFRFTlNJT04uTWF0aFpvb20uSG92ZXIoe30sIG1hdGgpKSByZXR1cm47IC8vCiAgICAgIC8vICBHZXQgdGhlIGhvdmVyIGRhdGEKICAgICAgLy8KCiAgICAgIHZhciBKQVggPSBPVVRQVVRbamF4Lm91dHB1dEpheF0sCiAgICAgICAgICBzcGFuID0gSkFYLmdldEhvdmVyU3BhbihqYXgsIG1hdGgpLAogICAgICAgICAgYmJveCA9IEpBWC5nZXRIb3ZlckJCb3goamF4LCBzcGFuLCBtYXRoKSwKICAgICAgICAgIHNob3cgPSAoSkFYLmNvbmZpZy5zaG93TWF0aE1lbnUgIT0gbnVsbCA/IEpBWCA6IEhVQikuY29uZmlnLnNob3dNYXRoTWVudTsKICAgICAgdmFyIGR4ID0gQ09ORklHLmZyYW1lLngsCiAgICAgICAgICBkeSA9IENPTkZJRy5mcmFtZS55LAogICAgICAgICAgZGQgPSBDT05GSUcuZnJhbWUuYndpZHRoOyAvLyBmcmFtZSBzaXplCgogICAgICBpZiAoTUUubXNpZUJvcmRlcldpZHRoQnVnKSB7CiAgICAgICAgZGQgPSAwOwogICAgICB9CgogICAgICBqYXguaG92ZXIgPSB7CiAgICAgICAgb3BhY2l0eTogMCwKICAgICAgICBpZDogamF4LmlucHV0SUQgKyAiLUhvdmVyIgogICAgICB9OyAvLwogICAgICAvLyAgVGhlIGZyYW1lIGFuZCBtZW51IGJ1dHRvbgogICAgICAvLwoKICAgICAgdmFyIGZyYW1lID0gSFRNTC5FbGVtZW50KCJzcGFuIiwgewogICAgICAgIGlkOiBqYXguaG92ZXIuaWQsCiAgICAgICAgaXNNYXRoSmF4OiB0cnVlLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwKICAgICAgICAgIHdpZHRoOiAwLAogICAgICAgICAgaGVpZ2h0OiAwLAogICAgICAgICAgcG9zaXRpb246ICJyZWxhdGl2ZSIKICAgICAgICB9CiAgICAgIH0sIFtbInNwYW4iLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiTWF0aEpheF9Ib3Zlcl9GcmFtZSIsCiAgICAgICAgaXNNYXRoSmF4OiB0cnVlLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwKICAgICAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICAgICAgdG9wOiB0aGlzLlB4KC1iYm94LmggLSBkeSAtIGRkIC0gKGJib3gueSB8fCAwKSksCiAgICAgICAgICBsZWZ0OiB0aGlzLlB4KC1keCAtIGRkICsgKGJib3gueCB8fCAwKSksCiAgICAgICAgICB3aWR0aDogdGhpcy5QeChiYm94LncgKyAyICogZHgpLAogICAgICAgICAgaGVpZ2h0OiB0aGlzLlB4KGJib3guaCArIGJib3guZCArIDIgKiBkeSksCiAgICAgICAgICBvcGFjaXR5OiAwLAogICAgICAgICAgZmlsdGVyOiAiYWxwaGEob3BhY2l0eT0wKSIKICAgICAgICB9CiAgICAgIH1dXSk7CiAgICAgIHZhciBidXR0b24gPSBIVE1MLkVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgaXNNYXRoSmF4OiB0cnVlLAogICAgICAgIGlkOiBqYXguaG92ZXIuaWQgKyAiTWVudSIsCiAgICAgICAgY2xhc3NOYW1lOiAiTWF0aEpheF9NZW51X0J1dHRvbiIsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAogICAgICAgICAgInotaW5kZXgiOiAxLAogICAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgICBoZWlnaHQ6IDAsCiAgICAgICAgICBwb3NpdGlvbjogInJlbGF0aXZlIgogICAgICAgIH0KICAgICAgfSwgW1sic3BhbiIsIHsKICAgICAgICBjbGFzc05hbWU6ICJNYXRoSmF4X0hvdmVyX0Fycm93IiwKICAgICAgICBpc01hdGhKYXg6IHRydWUsCiAgICAgICAgbWF0aDogbWF0aCwKICAgICAgICBvbmNsaWNrOiB0aGlzLkhvdmVyTWVudSwKICAgICAgICBqYXg6IEpBWC5pZCwKICAgICAgICBzdHlsZTogewogICAgICAgICAgbGVmdDogdGhpcy5QeChiYm94LncgKyBkeCArIGRkICsgKGJib3gueCB8fCAwKSArIENPTkZJRy5idXR0b24ueCksCiAgICAgICAgICB0b3A6IHRoaXMuUHgoLWJib3guaCAtIGR5IC0gZGQgLSAoYmJveC55IHx8IDApIC0gQ09ORklHLmJ1dHRvbi55KSwKICAgICAgICAgIG9wYWNpdHk6IDAsCiAgICAgICAgICBmaWx0ZXI6ICJhbHBoYShvcGFjaXR5PTApIgogICAgICAgIH0KICAgICAgfSwgW1sic3BhbiIsIHsKICAgICAgICBpc01hdGhKYXg6IHRydWUKICAgICAgfSwgIlx1MjVCQyJdXV1dKTsKCiAgICAgIGlmIChiYm94LndpZHRoKSB7CiAgICAgICAgZnJhbWUuc3R5bGUud2lkdGggPSBidXR0b24uc3R5bGUud2lkdGggPSBiYm94LndpZHRoOwogICAgICAgIGZyYW1lLnN0eWxlLm1hcmdpblJpZ2h0ID0gYnV0dG9uLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0iICsgYmJveC53aWR0aDsKICAgICAgICBmcmFtZS5maXJzdENoaWxkLnN0eWxlLndpZHRoID0gYmJveC53aWR0aDsKICAgICAgICBidXR0b24uZmlyc3RDaGlsZC5zdHlsZS5sZWZ0ID0gIiI7CiAgICAgICAgYnV0dG9uLmZpcnN0Q2hpbGQuc3R5bGUucmlnaHQgPSB0aGlzLlB4KENPTkZJRy5idXR0b24ud3gpOwogICAgICB9IC8vCiAgICAgIC8vICBBZGQgdGhlIGZyYW1lIGFuZCBidXR0b24KICAgICAgLy8KCgogICAgICBzcGFuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGZyYW1lLCBzcGFuKTsKCiAgICAgIGlmIChzaG93KSB7CiAgICAgICAgc3Bhbi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShidXR0b24sIHNwYW4pOwogICAgICB9CgogICAgICBpZiAoc3Bhbi5zdHlsZSkgewogICAgICAgIHNwYW4uc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiOwogICAgICB9IC8vIHNvIG1hdGggaXMgb24gdG9wIG9mIGhvdmVyIGZyYW1lCiAgICAgIC8vCiAgICAgIC8vICBTdGFydCB0aGUgaG92ZXIgZmFkZS1pbgogICAgICAvLwoKCiAgICAgIHRoaXMuUmVIb3ZlcihqYXgpOwogICAgfSwKICAgIC8vCiAgICAvLyAgUmVzdGFydCB0aGUgaG92ZXIgZmFkZSBpbiBhbmQgZmFkZS1vdXQgdGltZXJzCiAgICAvLwogICAgUmVIb3ZlcjogZnVuY3Rpb24gUmVIb3ZlcihqYXgpIHsKICAgICAgaWYgKGpheC5ob3Zlci5yZW1vdmUpIHsKICAgICAgICBjbGVhclRpbWVvdXQoamF4LmhvdmVyLnJlbW92ZSk7CiAgICAgIH0KCiAgICAgIGpheC5ob3Zlci5yZW1vdmUgPSBzZXRUaW1lb3V0KENBTExCQUNLKFsiVW5Ib3ZlciIsIHRoaXMsIGpheF0pLCBDT05GSUcuZmFkZW91dERlbGF5KTsKICAgICAgdGhpcy5Ib3ZlckZhZGVUaW1lcihqYXgsIENPTkZJRy5mYWRlaW5JbmMpOwogICAgfSwKICAgIC8vCiAgICAvLyAgU3RhcnQgdGhlIGZhZGUtb3V0CiAgICAvLwogICAgVW5Ib3ZlcjogZnVuY3Rpb24gVW5Ib3ZlcihqYXgpIHsKICAgICAgaWYgKCFqYXguaG92ZXIubm9mYWRlKSB7CiAgICAgICAgdGhpcy5Ib3ZlckZhZGVUaW1lcihqYXgsIC1DT05GSUcuZmFkZW91dEluYywgQ09ORklHLmZhZGVvdXRTdGFydCk7CiAgICAgIH0KICAgIH0sCiAgICAvLwogICAgLy8gIEhhbmRsZSB0aGUgZmFkZS1pbiBhbmQgZmFkZS1vdXQKICAgIC8vCiAgICBIb3ZlckZhZGU6IGZ1bmN0aW9uIEhvdmVyRmFkZShqYXgpIHsKICAgICAgZGVsZXRlIGpheC5ob3Zlci50aW1lcjsKICAgICAgamF4LmhvdmVyLm9wYWNpdHkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBqYXguaG92ZXIub3BhY2l0eSArIGpheC5ob3Zlci5pbmMpKTsKICAgICAgamF4LmhvdmVyLm9wYWNpdHkgPSBNYXRoLmZsb29yKDEwMDAgKiBqYXguaG92ZXIub3BhY2l0eSkgLyAxMDAwOwogICAgICB2YXIgZnJhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChqYXguaG92ZXIuaWQpLAogICAgICAgICAgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoamF4LmhvdmVyLmlkICsgIk1lbnUiKTsKICAgICAgZnJhbWUuZmlyc3RDaGlsZC5zdHlsZS5vcGFjaXR5ID0gamF4LmhvdmVyLm9wYWNpdHk7CiAgICAgIGZyYW1lLmZpcnN0Q2hpbGQuc3R5bGUuZmlsdGVyID0gImFscGhhKG9wYWNpdHk9IiArIE1hdGguZmxvb3IoMTAwICogamF4LmhvdmVyLm9wYWNpdHkpICsgIikiOwoKICAgICAgaWYgKGJ1dHRvbikgewogICAgICAgIGJ1dHRvbi5maXJzdENoaWxkLnN0eWxlLm9wYWNpdHkgPSBqYXguaG92ZXIub3BhY2l0eTsKICAgICAgICBidXR0b24uZmlyc3RDaGlsZC5zdHlsZS5maWx0ZXIgPSBmcmFtZS5zdHlsZS5maWx0ZXI7CiAgICAgIH0KCiAgICAgIGlmIChqYXguaG92ZXIub3BhY2l0eSA9PT0gMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGpheC5ob3Zlci5vcGFjaXR5ID4gMCkgewogICAgICAgIHRoaXMuSG92ZXJGYWRlVGltZXIoamF4LCBqYXguaG92ZXIuaW5jKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZnJhbWUpOwoKICAgICAgaWYgKGJ1dHRvbikgewogICAgICAgIGJ1dHRvbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJ1dHRvbik7CiAgICAgIH0KCiAgICAgIGlmIChqYXguaG92ZXIucmVtb3ZlKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KGpheC5ob3Zlci5yZW1vdmUpOwogICAgICB9CgogICAgICBkZWxldGUgamF4LmhvdmVyOwogICAgfSwKICAgIC8vCiAgICAvLyAgU2V0IHRoZSBmYWRlIHRvIGluIG9yIG91dCAodmlhIGluYykgYW5kIHN0YXJ0IHRoZSB0aW1lciwgaWYgbmVlZGVkCiAgICAvLwogICAgSG92ZXJGYWRlVGltZXI6IGZ1bmN0aW9uIEhvdmVyRmFkZVRpbWVyKGpheCwgaW5jLCBkZWxheSkgewogICAgICBqYXguaG92ZXIuaW5jID0gaW5jOwoKICAgICAgaWYgKCFqYXguaG92ZXIudGltZXIpIHsKICAgICAgICBqYXguaG92ZXIudGltZXIgPSBzZXRUaW1lb3V0KENBTExCQUNLKFsiSG92ZXJGYWRlIiwgdGhpcywgamF4XSksIGRlbGF5IHx8IENPTkZJRy5mYWRlRGVsYXkpOwogICAgICB9CiAgICB9LAogICAgLy8KICAgIC8vICBIYW5kbGUgYSBjbGljayBvbiB0aGUgbWVudSBidXR0b24KICAgIC8vCiAgICBIb3Zlck1lbnU6IGZ1bmN0aW9uIEhvdmVyTWVudShldmVudCkgewogICAgICBpZiAoIWV2ZW50KSB7CiAgICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBPVVRQVVRbdGhpcy5qYXhdLkNvbnRleHRNZW51KGV2ZW50LCB0aGlzLm1hdGgsIHRydWUpOwogICAgfSwKICAgIC8vCiAgICAvLyAgQ2xlYXIgYWxsIGhvdmVyIHRpbWVycwogICAgLy8KICAgIENsZWFySG92ZXI6IGZ1bmN0aW9uIENsZWFySG92ZXIoamF4KSB7CiAgICAgIGlmIChqYXguaG92ZXIucmVtb3ZlKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KGpheC5ob3Zlci5yZW1vdmUpOwogICAgICB9CgogICAgICBpZiAoamF4LmhvdmVyLnRpbWVyKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KGpheC5ob3Zlci50aW1lcik7CiAgICAgIH0KCiAgICAgIEhPVkVSLkNsZWFySG92ZXJUaW1lcigpOwogICAgICBkZWxldGUgamF4LmhvdmVyOwogICAgfSwKICAgIC8vCiAgICAvLyAgTWFrZSBhIG1lYXN1cmVtZW50IGluIHBpeGVscwogICAgLy8KICAgIFB4OiBmdW5jdGlvbiBQeChtKSB7CiAgICAgIGlmIChNYXRoLmFicyhtKSA8IC4wMDYpIHsKICAgICAgICByZXR1cm4gIjBweCI7CiAgICAgIH0KCiAgICAgIHJldHVybiBtLnRvRml4ZWQoMikucmVwbGFjZSgvXC4/MCskLywgIiIpICsgInB4IjsKICAgIH0sCiAgICAvLwogICAgLy8gIFByZWxvYWQgaW1hZ2VzIHNvIHRoZXkgc2hvdyB1cCB3aXRoIHRoZSBtZW51CiAgICAvLwogICAgZ2V0SW1hZ2VzOiBmdW5jdGlvbiBnZXRJbWFnZXMoKSB7CiAgICAgIGlmIChTRVRUSU5HUy5kaXNjb3ZlcmFibGUpIHsKICAgICAgICB2YXIgbWVudSA9IG5ldyBJbWFnZSgpOwogICAgICAgIG1lbnUuc3JjID0gQ09ORklHLmJ1dHRvbi5zcmM7CiAgICAgIH0KICAgIH0KICB9OyAvLwogIC8vICBIYW5kbGUgdG91Y2ggZXZlbnRzLgogIC8vCiAgLy8gIFVzZSBkb3VibGUtdGFwLWFuZC1ob2xkIGFzIGEgcmVwbGFjZW1lbnQgZm9yIGNvbnRleHQgbWVudSBldmVudC4KICAvLyAgVXNlIGRvdWJsZS10YXAgYXMgYSByZXBsYWNlbWVudCBmb3IgZG91YmxlIGNsaWNrLgogIC8vCgogIHZhciBUT1VDSCA9IE1FLlRvdWNoID0gewogICAgbGFzdDogMCwKICAgIC8vIHRpbWUgb2YgbGFzdCB0YXAgZXZlbnQKICAgIGRlbGF5OiA1MDAsCiAgICAvLyBkZWxheSB0aW1lIGZvciBkb3VibGUtY2xpY2sKICAgIC8vCiAgICAvLyAgQ2hlY2sgaWYgdGhpcyBpcyBhIGRvdWJsZS10YXAsIGFuZCBpZiBzbywgc3RhcnQgdGhlIHRpbWVyCiAgICAvLyAgZm9yIHRoZSBkb3VibGUtdGFwIGFuZCBob2xkICh0byB0cmlnZ2VyIHRoZSBjb250ZXh0dWFsIG1lbnUpCiAgICAvLwogICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KGV2ZW50KSB7CiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgdmFyIGRibFRhcCA9IG5vdyAtIFRPVUNILmxhc3QgPCBUT1VDSC5kZWxheSAmJiBUT1VDSC51cDsKICAgICAgVE9VQ0gubGFzdCA9IG5vdzsKICAgICAgVE9VQ0gudXAgPSBmYWxzZTsKCiAgICAgIGlmIChkYmxUYXApIHsKICAgICAgICBUT1VDSC50aW1lb3V0ID0gc2V0VGltZW91dChUT1VDSC5tZW51LCBUT1VDSC5kZWxheSwgZXZlbnQsIHRoaXMpOwogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgIH0sCiAgICAvLwogICAgLy8gIENoZWNrIGlmIHRoZXJlIGlzIGEgdGltZW91dCBwZW5kaW5nLCBpLmUuLCB3ZSBoYXZlIGEKICAgIC8vICBkb3VibGUtdGFwIGFuZCB3ZXJlIHdhaXRpbmcgdG8gc2VlIGlmIGl0IGlzIGhlbGQgbG9uZwogICAgLy8gIGVub3VnaCBmb3IgdGhlIG1lbnUuICBTaW5jZSB3ZSBnb3QgdGhlIGVuZCBiZWZvcmUgdGhlCiAgICAvLyAgdGltZW91dCwgaXQgaXMgYSBkb3VibGUtY2xpY2ssIG5vdCBhIGRvdWJsZS10YXAtYW5kLWhvbGQuCiAgICAvLyAgUHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gYW5kIGlzc3VlIGEgZG91YmxlIGNsaWNrLgogICAgLy8KICAgIGVuZDogZnVuY3Rpb24gZW5kKGV2ZW50KSB7CiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgVE9VQ0gudXAgPSBub3cgLSBUT1VDSC5sYXN0IDwgVE9VQ0guZGVsYXk7CgogICAgICBpZiAoVE9VQ0gudGltZW91dCkgewogICAgICAgIGNsZWFyVGltZW91dChUT1VDSC50aW1lb3V0KTsKICAgICAgICBkZWxldGUgVE9VQ0gudGltZW91dDsKICAgICAgICBUT1VDSC5sYXN0ID0gMDsKICAgICAgICBUT1VDSC51cCA9IGZhbHNlOwogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgcmV0dXJuIEVWRU5ULkhhbmRsZXIoZXZlbnQudG91Y2hlc1swXSB8fCBldmVudC50b3VjaCwgIkRibENsaWNrIiwgdGhpcyk7CiAgICAgIH0KICAgIH0sCiAgICAvLwogICAgLy8gIElmIHRoZSB0aW1lb3V0IHBhc3NlcyB3aXRob3V0IGFuIGVuZCBldmVudCwgd2UgaXNzdWUKICAgIC8vICB0aGUgY29udGV4dHVhbCBtZW51IGV2ZW50LgogICAgLy8KICAgIG1lbnU6IGZ1bmN0aW9uIG1lbnUoZXZlbnQsIG1hdGgpIHsKICAgICAgZGVsZXRlIFRPVUNILnRpbWVvdXQ7CiAgICAgIFRPVUNILmxhc3QgPSAwOwogICAgICBUT1VDSC51cCA9IGZhbHNlOwogICAgICByZXR1cm4gRVZFTlQuSGFuZGxlcihldmVudC50b3VjaGVzWzBdIHx8IGV2ZW50LnRvdWNoLCAiQ29udGV4dE1lbnUiLCBtYXRoKTsKICAgIH0KICB9OwogIC8qCiAgICogLy8KICAgKiAvLyAgTW9iaWxlIHNjcmVlbnMgYXJlIHNtYWxsLCBzbyB1c2UgbGFyZ2VyIHZlcnNpb24gb2YgYXJyb3cKICAgKiAvLwogICAqIGlmIChIVUIuQnJvd3Nlci5pc01vYmlsZSkgewogICAqICAgdmFyIGFycm93ID0gQ09ORklHLnN0eWxlc1siLk1hdGhKYXhfSG92ZXJfQXJyb3ciXTsKICAgKiAgIGFycm93LndpZHRoID0gIjI1cHgiOyBhcnJvdy5oZWlnaHQgPSAiMThweCI7CiAgICogICBDT05GSUcuYnV0dG9uLnggPSAtNjsKICAgKiB9CiAgICovCiAgLy8KICAvLyAgU2V0IHVwIGJyb3dzZXItc3BlY2lmaWMgdmFsdWVzCiAgLy8KCiAgSFVCLkJyb3dzZXIuU2VsZWN0KHsKICAgIE1TSUU6IGZ1bmN0aW9uIE1TSUUoYnJvd3NlcikgewogICAgICB2YXIgbW9kZSA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCAwOwogICAgICB2YXIgaXNJRTggPSBicm93c2VyLnZlcnNpb25BdExlYXN0KCI4LjAiKTsKICAgICAgTUUubXNpZUJvcmRlcldpZHRoQnVnID0gZG9jdW1lbnQuY29tcGF0TW9kZSA9PT0gIkJhY2tDb21wYXQiOyAvLyBib3JkZXJzIGFyZSBpbnNpZGUgb2Zmc2V0V2lkdGgvSGVpZ2h0CgogICAgICBNRS5tc2llRXZlbnRCdWcgPSBicm93c2VyLmlzSUU5OyAvLyBtdXN0IGdldCBldmVudCBmcm9tIHdpbmRvdyBldmVuIHRob3VnaCBldmVudCBpcyBwYXNzZWQKCiAgICAgIE1FLm1zaWVBbGlnbkJ1ZyA9ICFpc0lFOCB8fCBtb2RlIDwgODsgLy8gaW5saW5lLWJsb2NrIHNwYW5zIGRvbid0IHJlc3Qgb24gYmFzZWxpbmUKCiAgICAgIGlmIChtb2RlIDwgOSkgewogICAgICAgIEVWRU5ULkxFRlRCVVRUT04gPSAxOwogICAgICB9IC8vIElFIDwgOSBoYXMgd3JvbmcgZXZlbnQuYnV0dG9uIHZhbHVlcwoKICAgIH0sCiAgICBTYWZhcmk6IGZ1bmN0aW9uIFNhZmFyaShicm93c2VyKSB7CiAgICAgIE1FLnNhZmFyaUNvbnRleHRNZW51QnVnID0gdHJ1ZTsgLy8gc2VsZWN0aW9uIGNhbiBiZSBzdGFydGVkIGJ5IGNvbnRleHRtZW51IGV2ZW50CiAgICB9LAogICAgT3BlcmE6IGZ1bmN0aW9uIE9wZXJhKGJyb3dzZXIpIHsKICAgICAgTUUub3BlcmFQb3NpdGlvbkJ1ZyA9IHRydWU7IC8vIHBvc2l0aW9uIGlzIHdyb25nIHVubGVzcyBib3JkZXIgaXMgdXNlZAogICAgfSwKICAgIEtvbnF1ZXJvcjogZnVuY3Rpb24gS29ucXVlcm9yKGJyb3dzZXIpIHsKICAgICAgTUUubm9Db250ZXh0TWVudUJ1ZyA9IHRydWU7IC8vIGRvZXNuJ3QgcHJvZHVjZSBjb250ZXh0bWVudSBldmVudAogICAgfQogIH0pOyAvLwogIC8vICBVc2VkIGluIG1lYXN1cmluZyB6b29tIGFuZCBob3ZlciBwb3NpdGlvbnMKICAvLwoKICBNRS50b3BJbWcgPSBNRS5tc2llQWxpZ25CdWcgPyBIVE1MLkVsZW1lbnQoImltZyIsIHsKICAgIHN0eWxlOiB7CiAgICAgIHdpZHRoOiAwLAogICAgICBoZWlnaHQ6IDAsCiAgICAgIHBvc2l0aW9uOiAicmVsYXRpdmUiCiAgICB9LAogICAgc3JjOiAiYWJvdXQ6YmxhbmsiCiAgfSkgOiBIVE1MLkVsZW1lbnQoInNwYW4iLCB7CiAgICBzdHlsZTogewogICAgICB3aWR0aDogMCwKICAgICAgaGVpZ2h0OiAwLAogICAgICBkaXNwbGF5OiAiaW5saW5lLWJsb2NrIgogICAgfQogIH0pOwoKICBpZiAoTUUub3BlcmFQb3NpdGlvbkJ1ZykgewogICAgTUUudG9wSW1nLnN0eWxlLmJvcmRlciA9ICIxcHggc29saWQiOwogIH0gLy8KICAvLyAgR2V0IGNvbmZpZ3VyYXRpb24gZnJvbSB1c2VyCiAgLy8KCgogIE1FLmNvbmZpZyA9IENPTkZJRyA9IEhVQi5Db21iaW5lQ29uZmlnKCJNYXRoRXZlbnRzIiwgQ09ORklHKTsKCiAgdmFyIFNFVEZSQU1FID0gZnVuY3Rpb24gU0VURlJBTUUoKSB7CiAgICB2YXIgaGF6ZSA9IENPTkZJRy5zdHlsZXNbIi5NYXRoSmF4X0hvdmVyX0ZyYW1lIl07CiAgICBoYXplLmJvcmRlciA9IENPTkZJRy5mcmFtZS5id2lkdGggKyAicHggc29saWQgIiArIENPTkZJRy5mcmFtZS5iY29sb3IgKyAiICEgaW1wb3J0YW50IjsKICAgIGhhemVbImJveC1zaGFkb3ciXSA9IGhhemVbIi13ZWJraXQtYm94LXNoYWRvdyJdID0gaGF6ZVsiLW1vei1ib3gtc2hhZG93Il0gPSBoYXplWyIta2h0bWwtYm94LXNoYWRvdyJdID0gIjBweCAwcHggIiArIENPTkZJRy5mcmFtZS5od2lkdGggKyAiICIgKyBDT05GSUcuZnJhbWUuaGNvbG9yOwogIH07IC8vCiAgLy8gIFF1ZXVlIHRoZSBldmVudHMgbmVlZGVkIGZvciBzdGFydHVwCiAgLy8KCgogIENBTExCQUNLLlF1ZXVlKEhVQi5SZWdpc3Rlci5TdGFydHVwSG9vaygiRW5kIENvbmZpZyIsIHt9KSwgLy8gd2FpdCB1bnRpbCBjb25maWcgaXMgY29tcGxldGUKICBbU0VURlJBTUVdLCBbImdldEltYWdlcyIsIEhPVkVSXSwgWyJTdHlsZXMiLCBBSkFYLCBDT05GSUcuc3R5bGVzXSwgWyJQb3N0IiwgSFVCLlN0YXJ0dXAuc2lnbmFsLCAiTWF0aEV2ZW50cyBSZWFkeSJdLCBbImxvYWRDb21wbGV0ZSIsIEFKQVgsICJbTWF0aEpheF0vZXh0ZW5zaW9ucy9NYXRoRXZlbnRzLmpzIl0pOwp9KShNYXRoSmF4Lkh1YiwgTWF0aEpheC5IVE1MLCBNYXRoSmF4LkFqYXgsIE1hdGhKYXguQ2FsbGJhY2ssIE1hdGhKYXguTG9jYWxpemF0aW9uLCBNYXRoSmF4Lk91dHB1dEpheCwgTWF0aEpheC5JbnB1dEpheCk7"},{"version":3,"sources":["/home/hads/Downloads/pycharm-community-2020.1/plugins/python-ce/helpers/MathJax/extensions/MathEvents.js"],"names":["HUB","HTML","AJAX","CALLBACK","LOCALE","OUTPUT","INPUT","VERSION","EXTENSION","MathJax","Extension","ME","MathEvents","version","SETTINGS","config","menuSettings","CONFIG","hover","frame","x","y","bwidth","bcolor","hwidth","hcolor","button","wx","fadeinInc","fadeoutInc","fadeDelay","fadeoutStart","fadeoutDelay","styles","border","display","position","cursor","color","padding","EVENT","Event","LEFTBUTTON","RIGHTBUTTON","MENUKEY","KEY","RETURN","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","Mousedown","event","Handler","Mouseup","Mousemove","Mouseover","Mouseout","Click","DblClick","Menu","type","math","loadingMathMenu","False","jax","jaxID","window","isContextMenu","MathZoom","HandleEvent","preventDefault","returnValue","stopPropagation","cancelBubble","Keydown","keyCode","ContextMenu","force","JAX","getJaxFromMath","show","showMathMenu","context","msieEventBug","ClearSelection","HOVER","ClearHoverTimer","remove","clearTimeout","nofade","MENU","load","fn","loadingDomain","loadDomain","source","menu","Find","submenu","items","name","sourceMenuTitle","format","sourceMenuFormat","inputJax","disabled","annotationEncoding","annotations","annotationItems","annotationList","Hub","Config","semanticsAnnotations","i","m","length","root","getAnnotation","hidden","MathPlayer","outputJax","Browser","hasMathPlayer","Post","Require","ev","pageX","pageY","clientX","clientY","Queue","AltContextMenu","showMathMenuMSIE","mpContext","noContextMenuBug","safariContextMenuBug","setTimeout","document","selection","getBBox","span","appendChild","topImg","h","offsetTop","d","offsetHeight","w","offsetWidth","removeChild","Hover","discoverable","zoom","from","fromElement","relatedTarget","to","toElement","target","isMathJaxNode","getJaxFor","ReHover","HoverTimer","UnHover","lastX","lastY","hoverTimer","getHoverSpan","bbox","getHoverBBox","dx","dy","dd","msieBorderWidthBug","opacity","id","inputID","Element","isMathJax","style","width","height","className","top","Px","left","filter","onclick","HoverMenu","marginRight","firstChild","right","parentNode","insertBefore","HoverFadeTimer","HoverFade","timer","Math","max","min","inc","floor","getElementById","delay","ClearHover","abs","toFixed","replace","getImages","Image","src","TOUCH","Touch","last","start","now","Date","getTime","dblTap","up","timeout","end","touches","touch","Select","MSIE","browser","mode","documentMode","isIE8","versionAtLeast","compatMode","isIE9","msieAlignBug","Safari","Opera","operaPositionBug","Konqueror","CombineConfig","SETFRAME","haze","Register","StartupHook","Startup","signal","Ajax","Callback","Localization","OutputJax","InputJax"],"mappings":"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","sourcesContent":["/* -*- Mode: Javascript; indent-tabs-mode:nil; js-indent-level: 2 -*- */\n/* vim: set ts=2 et sw=2 tw=80: */\n\n/*************************************************************\n *\n *  MathJax/extensions/MathEvents.js\n *\n *  Implements the event handlers needed by the output jax to perform\n *  menu, hover, and other events.\n *\n *  ---------------------------------------------------------------------\n *\n *  Copyright (c) 2011-2015 The MathJax Consortium\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (HUB,HTML,AJAX,CALLBACK,LOCALE,OUTPUT,INPUT) {\n  var VERSION = \"2.6.0\";\n\n  var EXTENSION = MathJax.Extension;\n  var ME = EXTENSION.MathEvents = {version: VERSION};\n\n  var SETTINGS = HUB.config.menuSettings;\n\n  var CONFIG = {\n    hover: 500,              // time required to be considered a hover\n    frame: {\n      x: 3.5, y: 5,          // frame padding and\n      bwidth: 1,             // frame border width (in pixels)\n      bcolor: \"#A6D\",        // frame border color\n      hwidth: \"15px\",        // haze width\n      hcolor: \"#83A\"         // haze color\n    },\n    button: {\n      x: -6, y: -3,          // menu button offsets\n      wx: -2                 // button offset for full-width equations\n    },\n    fadeinInc: .2,           // increment for fade-in\n    fadeoutInc: .05,         // increment for fade-out\n    fadeDelay: 50,           // delay between fade-in or fade-out steps\n    fadeoutStart: 400,       // delay before fade-out after mouseout\n    fadeoutDelay: 15*1000,   // delay before automatic fade-out\n\n    styles: {\n      \".MathJax_Hover_Frame\": {\n        \"border-radius\": \".25em\",                   // Opera 10.5 and IE9\n        \"-webkit-border-radius\": \".25em\",           // Safari and Chrome\n        \"-moz-border-radius\": \".25em\",              // Firefox\n        \"-khtml-border-radius\": \".25em\",            // Konqueror\n\n        \"box-shadow\": \"0px 0px 15px #83A\",          // Opera 10.5 and IE9\n        \"-webkit-box-shadow\": \"0px 0px 15px #83A\",  // Safari and Chrome\n        \"-moz-box-shadow\": \"0px 0px 15px #83A\",     // Forefox\n        \"-khtml-box-shadow\": \"0px 0px 15px #83A\",   // Konqueror\n\n        border: \"1px solid #A6D ! important\",\n        display: \"inline-block\", position:\"absolute\"\n      },\n\n      \".MathJax_Menu_Button .MathJax_Hover_Arrow\": {\n        position:\"absolute\",\n        cursor:\"pointer\",\n        display:\"inline-block\",\n        border:\"2px solid #AAA\",\n        \"border-radius\":\"4px\",\n        \"-webkit-border-radius\": \"4px\",           // Safari and Chrome\n        \"-moz-border-radius\": \"4px\",              // Firefox\n        \"-khtml-border-radius\": \"4px\",            // Konqueror\n        \"font-family\":\"'Courier New',Courier\",\n        \"font-size\":\"9px\",\n        color:\"#F0F0F0\"\n      },\n      \".MathJax_Menu_Button .MathJax_Hover_Arrow span\": {\n        display:\"block\",\n        \"background-color\":\"#AAA\",\n        border:\"1px solid\",\n        \"border-radius\":\"3px\",\n        \"line-height\":0,\n        padding:\"4px\"\n      },\n      \".MathJax_Hover_Arrow:hover\": {\n        color:\"white!important\",\n        border:\"2px solid #CCC!important\"\n      },\n      \".MathJax_Hover_Arrow:hover span\": {\n        \"background-color\":\"#CCC!important\"\n      }\n    }\n  };\n\n\n  //\n  //  Common event-handling code\n  //\n  var EVENT = ME.Event = {\n\n    LEFTBUTTON: 0,           // the event.button value for left button\n    RIGHTBUTTON: 2,          // the event.button value for right button\n    MENUKEY: \"altKey\",       // the event value for alternate context menu\n\n    /*************************************************************/\n    /*\n     *  Enum element for key codes.\n     */\n    KEY: {\n      RETURN: 13,\n      ESCAPE: 27,\n      SPACE: 32,\n      LEFT: 37,\n      UP: 38,\n      RIGHT: 39,\n      DOWN: 40\n    },\n\n    Mousedown: function (event) {return EVENT.Handler(event,\"Mousedown\",this)},\n    Mouseup:   function (event) {return EVENT.Handler(event,\"Mouseup\",this)},\n    Mousemove: function (event) {return EVENT.Handler(event,\"Mousemove\",this)},\n    Mouseover: function (event) {return EVENT.Handler(event,\"Mouseover\",this)},\n    Mouseout:  function (event) {return EVENT.Handler(event,\"Mouseout\",this)},\n    Click:     function (event) {return EVENT.Handler(event,\"Click\",this)},\n    DblClick:  function (event) {return EVENT.Handler(event,\"DblClick\",this)},\n    Menu:      function (event) {return EVENT.Handler(event,\"ContextMenu\",this)},\n\n    //\n    //  Call the output jax's event handler or the zoom handler\n    //\n    Handler: function (event,type,math) {\n      if (AJAX.loadingMathMenu) {return EVENT.False(event)}\n      var jax = OUTPUT[math.jaxID];\n      if (!event) {event = window.event}\n      event.isContextMenu = (type === \"ContextMenu\");\n      if (jax[type]) {return jax[type](event,math)}\n      if (EXTENSION.MathZoom) {return EXTENSION.MathZoom.HandleEvent(event,type,math)}\n    },\n\n    //\n    //  Try to cancel the event in every way we can\n    //\n    False: function (event) {\n      if (!event) {event = window.event}\n      if (event) {\n        if (event.preventDefault) {event.preventDefault()} else {event.returnValue = false}\n        if (event.stopPropagation) {event.stopPropagation()}\n        event.cancelBubble = true;\n      }\n      return false;\n    },\n\n    //\n    // Keydown event handler. Should only fire on Space key.\n    //\n    Keydown: function (event, math) {\n      if (!event) event = window.event;\n      if (event.keyCode === EVENT.KEY.SPACE) {\n        EVENT.ContextMenu(event, this);\n      };\n    },\n\n    //\n    //  Load the contextual menu code, if needed, and post the menu\n    //\n    ContextMenu: function (event,math,force) {\n      //\n      //  Check if we are showing menus\n      //\n      var JAX = OUTPUT[math.jaxID], jax = JAX.getJaxFromMath(math);\n      var show = (JAX.config.showMathMenu != null ? JAX : HUB).config.showMathMenu;\n      if (!show || (SETTINGS.context !== \"MathJax\" && !force)) return;\n\n      //\n      //  Remove selections, remove hover fades\n      //\n      if (ME.msieEventBug) {event = window.event || event}\n      EVENT.ClearSelection(); HOVER.ClearHoverTimer();\n      if (jax.hover) {\n        if (jax.hover.remove) {clearTimeout(jax.hover.remove); delete jax.hover.remove}\n        jax.hover.nofade = true;\n      }\n\n      //\n      //  If the menu code is loaded,\n      //    Check if localization needs loading;\n      //    If not, post the menu, and return.\n      //    Otherwise wait for the localization to load\n      //  Otherwse load the menu code.\n      //  Try again after the file is loaded.\n      //\n      var MENU = MathJax.Menu; var load, fn;\n      if (MENU) {\n        if (MENU.loadingDomain) {return EVENT.False(event)}\n        load = LOCALE.loadDomain(\"MathMenu\");\n        if (!load) {\n          MENU.jax = jax;\n          var source = MENU.menu.Find(\"Show Math As\").submenu;\n          source.items[0].name = jax.sourceMenuTitle;\n          source.items[0].format = (jax.sourceMenuFormat||\"MathML\");\n          source.items[1].name = INPUT[jax.inputJax].sourceMenuTitle;\n          source.items[5].disabled = !INPUT[jax.inputJax].annotationEncoding;\n\n          //\n          // Try and find each known annotation format and enable the menu\n          // items accordingly.\n          //\n          var annotations = source.items[2]; annotations.disabled = true;\n          var annotationItems = annotations.submenu.items;\n          annotationList = MathJax.Hub.Config.semanticsAnnotations;\n          for (var i = 0, m = annotationItems.length; i < m; i++) {\n            var name = annotationItems[i].name[1]\n            if (jax.root && jax.root.getAnnotation(name) !== null) {\n              annotations.disabled = false;\n              annotationItems[i].hidden = false;\n            } else {\n              annotationItems[i].hidden = true;\n            }\n          }\n\n          var MathPlayer = MENU.menu.Find(\"Math Settings\",\"MathPlayer\");\n          MathPlayer.hidden = !(jax.outputJax === \"NativeMML\" && HUB.Browser.hasMathPlayer);\n          return MENU.menu.Post(event);\n        }\n        MENU.loadingDomain = true;\n        fn = function () {delete MENU.loadingDomain};\n      } else {\n        if (AJAX.loadingMathMenu) {return EVENT.False(event)}\n        AJAX.loadingMathMenu = true;\n        load = AJAX.Require(\"[MathJax]/extensions/MathMenu.js\");\n        fn = function () {\n          delete AJAX.loadingMathMenu;\n          if (!MathJax.Menu) {MathJax.Menu = {}}\n        }\n      }\n      var ev = {\n        pageX:event.pageX, pageY:event.pageY,\n        clientX:event.clientX, clientY:event.clientY\n      };\n      CALLBACK.Queue(\n        load, fn, // load the file and delete the marker when done\n        [\"ContextMenu\",EVENT,ev,math,force]  // call this function again\n      );\n      return EVENT.False(event);\n    },\n\n    //\n    //  Mousedown handler for alternate means of accessing menu\n    //\n    AltContextMenu: function (event,math) {\n      var JAX = OUTPUT[math.jaxID];\n      var show = (JAX.config.showMathMenu != null ? JAX : HUB).config.showMathMenu;\n      if (show) {\n        show = (JAX.config.showMathMenuMSIE != null ? JAX : HUB).config.showMathMenuMSIE;\n        if (SETTINGS.context === \"MathJax\" && !SETTINGS.mpContext && show) {\n          if (!ME.noContextMenuBug || event.button !== EVENT.RIGHTBUTTON) return;\n        } else {\n          if (!event[EVENT.MENUKEY] || event.button !== EVENT.LEFTBUTTON) return;\n        }\n        return JAX.ContextMenu(event,math,true);\n      }\n    },\n\n    ClearSelection: function () {\n      if (ME.safariContextMenuBug) {setTimeout(\"window.getSelection().empty()\",0)}\n      if (document.selection) {setTimeout(\"document.selection.empty()\",0)}\n    },\n\n    getBBox: function (span) {\n      span.appendChild(ME.topImg);\n      var h = ME.topImg.offsetTop, d = span.offsetHeight-h, w = span.offsetWidth;\n      span.removeChild(ME.topImg);\n      return {w:w, h:h, d:d};\n    }\n\n  };\n\n  //\n  //  Handle hover \"discoverability\"\n  //\n  var HOVER = ME.Hover = {\n\n    //\n    //  Check if we are moving from a non-MathJax element to a MathJax one\n    //  and either start fading in again (if it is fading out) or start the\n    //  timer for the hover\n    //\n    Mouseover: function (event,math) {\n      if (SETTINGS.discoverable || SETTINGS.zoom === \"Hover\") {\n        var from = event.fromElement || event.relatedTarget,\n            to   = event.toElement   || event.target;\n        if (from && to && (HUB.isMathJaxNode(from) !== HUB.isMathJaxNode(to) ||\n                           HUB.getJaxFor(from) !== HUB.getJaxFor(to))) {\n          var jax = this.getJaxFromMath(math);\n          if (jax.hover) {HOVER.ReHover(jax)} else {HOVER.HoverTimer(jax,math)}\n          return EVENT.False(event);\n        }\n      }\n    },\n    //\n    //  Check if we are moving from a MathJax element to a non-MathJax one\n    //  and either start fading out, or clear the timer if we haven't\n    //  hovered yet\n    //\n    Mouseout: function (event,math) {\n      if (SETTINGS.discoverable || SETTINGS.zoom === \"Hover\") {\n        var from = event.fromElement || event.relatedTarget,\n            to   = event.toElement   || event.target;\n        if (from && to && (HUB.isMathJaxNode(from) !== HUB.isMathJaxNode(to) ||\n                           HUB.getJaxFor(from) !== HUB.getJaxFor(to))) {\n          var jax = this.getJaxFromMath(math);\n          if (jax.hover) {HOVER.UnHover(jax)} else {HOVER.ClearHoverTimer()}\n          return EVENT.False(event);\n        }\n      }\n    },\n    //\n    //  Restart hover timer if the mouse moves\n    //\n    Mousemove: function (event,math) {\n      if (SETTINGS.discoverable || SETTINGS.zoom === \"Hover\") {\n        var jax = this.getJaxFromMath(math); if (jax.hover) return;\n        if (HOVER.lastX == event.clientX && HOVER.lastY == event.clientY) return;\n        HOVER.lastX = event.clientX; HOVER.lastY = event.clientY;\n        HOVER.HoverTimer(jax,math);\n        return EVENT.False(event);\n      }\n    },\n\n    //\n    //  Clear the old timer and start a new one\n    //\n    HoverTimer: function (jax,math) {\n      this.ClearHoverTimer();\n      this.hoverTimer = setTimeout(CALLBACK([\"Hover\",this,jax,math]),CONFIG.hover);\n    },\n    ClearHoverTimer: function () {\n      if (this.hoverTimer) {clearTimeout(this.hoverTimer); delete this.hoverTimer}\n    },\n\n    //\n    //  Handle putting up the hover frame\n    //\n    Hover: function (jax,math) {\n      //\n      //  Check if Zoom handles the hover event\n      //\n      if (EXTENSION.MathZoom && EXTENSION.MathZoom.Hover({},math)) return;\n      //\n      //  Get the hover data\n      //\n      var JAX = OUTPUT[jax.outputJax],\n          span = JAX.getHoverSpan(jax,math),\n          bbox = JAX.getHoverBBox(jax,span,math),\n          show = (JAX.config.showMathMenu != null ? JAX : HUB).config.showMathMenu;\n      var dx = CONFIG.frame.x, dy = CONFIG.frame.y, dd = CONFIG.frame.bwidth;  // frame size\n      if (ME.msieBorderWidthBug) {dd = 0}\n      jax.hover = {opacity:0, id:jax.inputID+\"-Hover\"};\n      //\n      //  The frame and menu button\n      //\n      var frame = HTML.Element(\"span\",{\n         id:jax.hover.id, isMathJax: true,\n         style:{display:\"inline-block\", width:0, height:0, position:\"relative\"}\n        },[[\"span\",{\n          className:\"MathJax_Hover_Frame\", isMathJax: true,\n          style:{\n            display:\"inline-block\", position:\"absolute\",\n            top:this.Px(-bbox.h-dy-dd-(bbox.y||0)), left:this.Px(-dx-dd+(bbox.x||0)),\n            width:this.Px(bbox.w+2*dx), height:this.Px(bbox.h+bbox.d+2*dy),\n            opacity:0, filter:\"alpha(opacity=0)\"\n          }}\n        ]]\n      );\n      var button = HTML.Element(\"span\",{\n         isMathJax: true, id:jax.hover.id+\"Menu\", className:\"MathJax_Menu_Button\",\n         style:{display:\"inline-block\", \"z-index\": 1, width:0, height:0, position:\"relative\"}\n        },[[\"span\",{\n            className: \"MathJax_Hover_Arrow\", isMathJax: true, math: math,\n            onclick: this.HoverMenu, jax:JAX.id,\n            style: {\n              left:this.Px(bbox.w+dx+dd+(bbox.x||0)+CONFIG.button.x),\n              top:this.Px(-bbox.h-dy-dd-(bbox.y||0)-CONFIG.button.y),\n              opacity:0, filter:\"alpha(opacity=0)\"\n            }\n          },[[\"span\",{isMathJax:true},\"\\u25BC\"]]]]\n      );\n      if (bbox.width) {\n        frame.style.width = button.style.width = bbox.width;\n        frame.style.marginRight = button.style.marginRight = \"-\"+bbox.width;\n        frame.firstChild.style.width = bbox.width;\n        button.firstChild.style.left = \"\";\n        button.firstChild.style.right = this.Px(CONFIG.button.wx);\n      }\n      //\n      //  Add the frame and button\n      //\n      span.parentNode.insertBefore(frame,span);\n      if (show) {span.parentNode.insertBefore(button,span)}\n      if (span.style) {span.style.position = \"relative\"} // so math is on top of hover frame\n      //\n      //  Start the hover fade-in\n      //\n      this.ReHover(jax);\n    },\n    //\n    //  Restart the hover fade in and fade-out timers\n    //\n    ReHover: function (jax) {\n      if (jax.hover.remove) {clearTimeout(jax.hover.remove)}\n      jax.hover.remove = setTimeout(CALLBACK([\"UnHover\",this,jax]),CONFIG.fadeoutDelay);\n      this.HoverFadeTimer(jax,CONFIG.fadeinInc);\n    },\n    //\n    //  Start the fade-out\n    //\n    UnHover: function (jax) {\n      if (!jax.hover.nofade) {this.HoverFadeTimer(jax,-CONFIG.fadeoutInc,CONFIG.fadeoutStart)}\n    },\n    //\n    //  Handle the fade-in and fade-out\n    //\n    HoverFade: function (jax) {\n      delete jax.hover.timer;\n      jax.hover.opacity = Math.max(0,Math.min(1,jax.hover.opacity + jax.hover.inc));\n      jax.hover.opacity = Math.floor(1000*jax.hover.opacity)/1000;\n      var frame = document.getElementById(jax.hover.id),\n          button = document.getElementById(jax.hover.id+\"Menu\");\n      frame.firstChild.style.opacity = jax.hover.opacity;\n      frame.firstChild.style.filter = \"alpha(opacity=\"+Math.floor(100*jax.hover.opacity)+\")\";\n      if (button) {\n        button.firstChild.style.opacity = jax.hover.opacity;\n        button.firstChild.style.filter = frame.style.filter;\n      }\n      if (jax.hover.opacity === 1) {return}\n      if (jax.hover.opacity > 0) {this.HoverFadeTimer(jax,jax.hover.inc); return}\n      frame.parentNode.removeChild(frame);\n      if (button) {button.parentNode.removeChild(button)}\n      if (jax.hover.remove) {clearTimeout(jax.hover.remove)}\n      delete jax.hover;\n    },\n    //\n    //  Set the fade to in or out (via inc) and start the timer, if needed\n    //\n    HoverFadeTimer: function (jax,inc,delay) {\n      jax.hover.inc = inc;\n      if (!jax.hover.timer) {\n        jax.hover.timer = setTimeout(CALLBACK([\"HoverFade\",this,jax]),(delay||CONFIG.fadeDelay));\n      }\n    },\n\n    //\n    //  Handle a click on the menu button\n    //\n    HoverMenu: function (event) {\n      if (!event) {event = window.event}\n      return OUTPUT[this.jax].ContextMenu(event,this.math,true);\n    },\n\n    //\n    //  Clear all hover timers\n    //\n    ClearHover: function (jax) {\n      if (jax.hover.remove) {clearTimeout(jax.hover.remove)}\n      if (jax.hover.timer)  {clearTimeout(jax.hover.timer)}\n      HOVER.ClearHoverTimer();\n      delete jax.hover;\n    },\n\n    //\n    //  Make a measurement in pixels\n    //\n    Px: function (m) {\n      if (Math.abs(m) < .006) {return \"0px\"}\n      return m.toFixed(2).replace(/\\.?0+$/,\"\") + \"px\";\n    },\n\n    //\n    //  Preload images so they show up with the menu\n    //\n    getImages: function () {\n      if (SETTINGS.discoverable) {\n        var menu = new Image();\n        menu.src = CONFIG.button.src;\n      }\n    }\n\n  };\n\n  //\n  //  Handle touch events.\n  //\n  //  Use double-tap-and-hold as a replacement for context menu event.\n  //  Use double-tap as a replacement for double click.\n  //\n  var TOUCH = ME.Touch = {\n\n    last: 0,          // time of last tap event\n    delay: 500,       // delay time for double-click\n\n    //\n    //  Check if this is a double-tap, and if so, start the timer\n    //  for the double-tap and hold (to trigger the contextual menu)\n    //\n    start: function (event) {\n      var now = new Date().getTime();\n      var dblTap = (now - TOUCH.last < TOUCH.delay && TOUCH.up);\n      TOUCH.last = now; TOUCH.up = false;\n      if (dblTap) {\n        TOUCH.timeout = setTimeout(TOUCH.menu,TOUCH.delay,event,this);\n        event.preventDefault();\n      }\n    },\n\n    //\n    //  Check if there is a timeout pending, i.e., we have a\n    //  double-tap and were waiting to see if it is held long\n    //  enough for the menu.  Since we got the end before the\n    //  timeout, it is a double-click, not a double-tap-and-hold.\n    //  Prevent the default action and issue a double click.\n    //\n    end: function (event) {\n      var now = new Date().getTime();\n      TOUCH.up = (now - TOUCH.last < TOUCH.delay);\n      if (TOUCH.timeout) {\n        clearTimeout(TOUCH.timeout);\n        delete TOUCH.timeout; TOUCH.last = 0; TOUCH.up = false;\n        event.preventDefault();\n        return EVENT.Handler((event.touches[0]||event.touch),\"DblClick\",this);\n      }\n    },\n\n    //\n    //  If the timeout passes without an end event, we issue\n    //  the contextual menu event.\n    //\n    menu: function (event,math) {\n      delete TOUCH.timeout; TOUCH.last = 0; TOUCH.up = false;\n      return EVENT.Handler((event.touches[0]||event.touch),\"ContextMenu\",math);\n    }\n\n  };\n\n  /*\n   * //\n   * //  Mobile screens are small, so use larger version of arrow\n   * //\n   * if (HUB.Browser.isMobile) {\n   *   var arrow = CONFIG.styles[\".MathJax_Hover_Arrow\"];\n   *   arrow.width = \"25px\"; arrow.height = \"18px\";\n   *   CONFIG.button.x = -6;\n   * }\n   */\n\n  //\n  //  Set up browser-specific values\n  //\n  HUB.Browser.Select({\n    MSIE: function (browser) {\n      var mode = (document.documentMode || 0);\n      var isIE8 = browser.versionAtLeast(\"8.0\");\n      ME.msieBorderWidthBug = (document.compatMode === \"BackCompat\");  // borders are inside offsetWidth/Height\n      ME.msieEventBug = browser.isIE9;           // must get event from window even though event is passed\n      ME.msieAlignBug = (!isIE8 || mode < 8);    // inline-block spans don't rest on baseline\n      if (mode < 9) {EVENT.LEFTBUTTON = 1}       // IE < 9 has wrong event.button values\n    },\n    Safari: function (browser) {\n      ME.safariContextMenuBug = true;  // selection can be started by contextmenu event\n    },\n    Opera: function (browser) {\n      ME.operaPositionBug = true;      // position is wrong unless border is used\n    },\n    Konqueror: function (browser) {\n      ME.noContextMenuBug = true;      // doesn't produce contextmenu event\n    }\n  });\n\n  //\n  //  Used in measuring zoom and hover positions\n  //\n  ME.topImg = (ME.msieAlignBug ?\n    HTML.Element(\"img\",{style:{width:0,height:0,position:\"relative\"},src:\"about:blank\"}) :\n    HTML.Element(\"span\",{style:{width:0,height:0,display:\"inline-block\"}})\n  );\n  if (ME.operaPositionBug) {ME.topImg.style.border=\"1px solid\"}\n\n  //\n  //  Get configuration from user\n  //\n  ME.config = CONFIG = HUB.CombineConfig(\"MathEvents\",CONFIG);\n  var SETFRAME = function () {\n    var haze = CONFIG.styles[\".MathJax_Hover_Frame\"];\n    haze.border = CONFIG.frame.bwidth+\"px solid \"+CONFIG.frame.bcolor+\" ! important\";\n    haze[\"box-shadow\"] = haze[\"-webkit-box-shadow\"] =\n      haze[\"-moz-box-shadow\"] = haze[\"-khtml-box-shadow\"] =\n        \"0px 0px \"+CONFIG.frame.hwidth+\" \"+CONFIG.frame.hcolor;\n  };\n\n  //\n  //  Queue the events needed for startup\n  //\n  CALLBACK.Queue(\n    HUB.Register.StartupHook(\"End Config\",{}), // wait until config is complete\n    [SETFRAME],\n    [\"getImages\",HOVER],\n    [\"Styles\",AJAX,CONFIG.styles],\n    [\"Post\",HUB.Startup.signal,\"MathEvents Ready\"],\n    [\"loadComplete\",AJAX,\"[MathJax]/extensions/MathEvents.js\"]\n  );\n\n})(MathJax.Hub,MathJax.HTML,MathJax.Ajax,MathJax.Callback,\n   MathJax.Localization,MathJax.OutputJax,MathJax.InputJax);\n"]}]}